"use strict";(self["webpackChunkzhongkai_mall"]=self["webpackChunkzhongkai_mall"]||[]).push([[375],{375:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"register-container"},[t("div",{staticClass:"register"},[t("h3",[e._v(" 注册新用户 "),t("span",{staticClass:"go"},[e._v(" 我有账号，去 "),t("router-link",{attrs:{to:"/login"}},[e._v("登陆")])],1)]),t("div",{staticClass:"content"},[t("label",[e._v("手机号:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"text",placeholder:"请输入你的手机号"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.rules[0].msgshow,expression:"rules[0].msgshow"}],staticClass:"error-msg"},[e._v(e._s(e.rules[0].msgshow))])]),t("div",{staticClass:"content"},[t("label",[e._v("验证码:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),t("button",{staticStyle:{height:"38px"},on:{click:e.getCode}},[e._v("获取验证码")])]),t("div",{staticClass:"content"},[t("label",[e._v("登录密码:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.pwd,expression:"pwd"}],attrs:{type:"password",placeholder:"请输入你的登录密码"},domProps:{value:e.pwd},on:{input:function(t){t.target.composing||(e.pwd=t.target.value)}}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.rules[1].msgshow,expression:"rules[1].msgshow"}],staticClass:"error-msg"},[e._v(e._s(e.rules[1].msgshow))])]),t("div",{staticClass:"content"},[t("label",[e._v("确认密码:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.pwdConfirm,expression:"pwdConfirm"}],attrs:{type:"password",placeholder:"请输入确认密码"},domProps:{value:e.pwdConfirm},on:{input:function(t){t.target.composing||(e.pwdConfirm=t.target.value)}}})]),t("div",{staticClass:"controls"},[t("input",{attrs:{name:"m1",type:"checkbox"},domProps:{checked:e.agree},on:{click:function(t){e.agree}}}),t("span",[e._v("同意协议并注册《尚品汇用户协议》")])]),t("div",{staticClass:"btn"},[t("button",{on:{click:e.register}},[e._v("完成注册")])])])])},a=[],r={name:"Register",data(){return{phone:"",code:"",pwd:"",pwdConfirm:"",agree:!1,rules:[{title:"phone",msg:"手机号格式不正确",msgshow:"",rule:/^1[3-9]\d{9}$/},{title:"pwd",rule:/^\w{6,12}$/,msg:"密码不能为空，要求6-12位任意字符",msgshow:""}]}},methods:{getCode(){this.$store.dispatch("user/getCode",this.phone).then((e=>{this.code=this.$store.state.user.code}))},register(){const{phone:e,pwd:t,pwdConfirm:s,code:o}=this;e&&t&&s&&o?this.validate()&&(t==s?this.$store.dispatch("user/goRegister",{phone:e,password:t,code:o}).then((e=>{alert("注册成功"),this.$router.replace("/login")})):alert("两次输入的密码不相同")):alert("请完整输入")},validate(){let e=!0;return this.rules.forEach((t=>{t.rule.test(this[t.title])?t.msgshow="":(e=!1,t.msgshow=t.msg)})),e}}},i=r,n=s(1001),l=(0,n.Z)(i,o,a,!1,null,"0cf67a62",null),p=l.exports}}]);